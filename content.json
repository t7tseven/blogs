{"meta":{"title":"T7tseven's Blog","subtitle":null,"description":null,"author":"Jiaqi Tao","url":"http://t7tseven.github.io/blogs"},"pages":[],"posts":[{"title":"JavaScript实现无缝轮播","slug":"JavaScript实现无缝轮播","date":"2018-02-28T08:33:20.000Z","updated":"2018-02-28T11:36:01.898Z","comments":true,"path":"2018/02/28/JavaScript实现无缝轮播/","link":"","permalink":"http://t7tseven.github.io/blogs/2018/02/28/JavaScript实现无缝轮播/","excerpt":"","text":"JavaScript写轮播图效果项目源代码：http://localhost:4000/blogs/2018/02/28/JavaScript%E5%AE%9E%E7%8E%B0%E6%97%A0%E7%BC%9D%E8%BD%AE%E6%92%AD/#more html布局 ul#banner在.screen中改变left值实现轮播 ul#pointer中的指示点根据轮播图片的数量通过js自动创建 布局当中有些标签是不必要的，为了布局标准化而添加 css样式 js功能实现指示点 动态创建指示点 给第一个点添加on类，改变样式 无缝的实现 由于实现的是无缝轮播，要在前后添加第一张和最后一张图片 将ul#banner的初始位置定位到第一张图片 左右箭头功能 创建全局变量k,确定轮播位置 防止快速点击出现空白 封装运动函数，实现轮播动画 在回调函数中判断是否是第一张或是最后一张图片，如果是则快速定位到正确位置，实现无缝轮播 清除指示点样式函数clear 给当前指示点添加on类改变样式 运动函数（move）的封装&amp;&amp;样式获取（getStyle）的封装 防止定时器之间相互影响，先将定时器清除 根据当前距离与目标距离的关系判断速度的正负 根据距离与速度的关系，判断是否到达目标距离 当目标距离小于当前距离时速度小于0，才能不断到达目标点 当目标距离大于当前距离时速度大于0，才能不断到达目标点 当目标距离与当前距离相等时，清除定时器 样式获取方式有三种: style,currentStyle,getComputedStyle style获取行间样式，且能设置样式 getComputedStyle 和 currentStyle 能够获取 行间样式/非行间样式/浏览器默认样式，但存在浏览器兼容问题，且不能设置样式 点击指示点显示对应图片 将指示点下标绑定到对应的index属性上，也可以使用闭包调用i 将index的值和全局变量k联系到一起 在调用move函数时this指向改变，可以在函数外通过变量赋值的方式存储this,也可以通过箭头函数保持this指向与外部this指向一直 加定时器实现自动轮播 解决浏览器缩小后出现空白的问题 封装自动轮播autoPlay函数 当鼠标移上screen定时器停止，arrow显示，离开继续开始，隐藏","categories":[{"name":"Demo练习","slug":"Demo练习","permalink":"http://t7tseven.github.io/blogs/categories/Demo练习/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://t7tseven.github.io/blogs/tags/JavaScript/"}]},{"title":"唯品会放大镜","slug":"唯品会放大镜","date":"2018-02-26T08:14:54.000Z","updated":"2018-02-28T13:55:23.986Z","comments":true,"path":"2018/02/26/唯品会放大镜/","link":"","permalink":"http://t7tseven.github.io/blogs/2018/02/26/唯品会放大镜/","excerpt":"","text":"JavaScript写放大镜效果项目源代码：file:///C:/Users/taojiaqi/Desktop/%E4%BB%BF%E5%94%AF%E5%93%81%E4%BC%9A%E6%94%BE%E5%A4%A7%E9%95%9C/index.html html布局 .big包含四个小盒子.big-item .big-item中包含两个小盒子，一个装center图片，一个装big图加screen(放大镜) .small包含四个小盒子.small-item里面装做选项卡的small图 css样式 .big-item全部定位在.big上 将放大镜screen定位在.bigMore上 给要放大的图片设置定位，通过改变top和left值实现图片的放大 js功能实现选择器函数封装 是TagName, Id 还是className 底部tab栏切换 给每一个smallItem绑定点击事件，让对应的图片盒子显示 由于事件绑定改变了i的值，所以要将i绑定到对应smallItem的index属性上 或者使用闭包访问外部i值 添加移上和离开的样式，点击取消样式 放大镜（magnifier）函数封装 鼠标移到外部大盒子上让装大图的盒子显示出来，小盒子的样式改变 鼠标在装大图盒子上移动时实现放大效果 获取鼠标在屏幕上的位置（pageX和pageY） 获取放大镜在屏幕上的位置（让鼠标在发大镜的中间位置所以要减去放大镜宽度的一半） 让发大镜在固定的位置内移动（装大图盒子的内部） 将放大镜的移动距离赋值给发大镜的top和left值 确定放大镜的移动距离和放大图片的移动距离的关系实现放大效果 screen的移动距离/screen的最大移动距离 = 背景图的移动距离/背景图的最大移动距离 在点击tab栏时让每一个背景都可以放大，将当前tab的index值当做参数传给magnifier函数，要让刚开始打开页面时的盒子有放大效果，要给magnifier函数传入参数0，在外部调用 鼠标离开外部大盒子时让装大图的盒子隐藏","categories":[{"name":"Demo练习","slug":"Demo练习","permalink":"http://t7tseven.github.io/blogs/categories/Demo练习/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://t7tseven.github.io/blogs/tags/JavaScript/"}]}]}